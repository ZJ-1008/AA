<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>产品追溯信息</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <h2>产品信息</h2>
  <div id="product-info">
    <!-- 产品信息将通过 JS 加载 -->
  </div>

  <script>
    // 从 URL 读取 trace_id
    const params = new URLSearchParams(window.location.search);
    const traceId = params.get("trace_id");

    // 获取 JSON 数据并展示
    fetch('https://zj-1008.github.io/AA/static/products.json')
      .then(response => response.json())
      .then(data => {
        // 找到与 trace_id 匹配的产品数据
        const product = data.find(p => p.trace_id === traceId);
        if (product) {
          document.getElementById("product-info").innerHTML = `
            <h3>${product.product_name} (${product.model})</h3>
            <p>追溯码：${product.trace_id}</p>
            <p>材料：${product.material}</p>
            <p>材料产地：${product.material_origin}</p>
            <p>功能描述：${product.function_desc}</p>
            <p>质保期：${product.warranty_months}个月</p>
          `;
        } else {
          document.getElementById("product-info").innerHTML = `<p>未找到产品信息。</p>`;
        }
      })
      .catch(error => {
        console.error("加载数据失败", error);
        document.getElementById("product-info").innerHTML = "<p>数据加载失败。</p>";
      });
  </script>
</body>
</html>
